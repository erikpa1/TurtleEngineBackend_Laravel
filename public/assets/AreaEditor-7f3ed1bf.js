import{j as s,y as c,k as l,u,b as x,R as d,D as j,G as p,F as m,H as o}from"./index-bbd1ebcb.js";import{C as h,E as g,O as f}from"./Environment-bbcc9cfa.js";import{A as t,O as v,H as n}from"./OpenAssetFolderButton-b71f53ab.js";import{u as M}from"./assets_hooks-1bb9fe8a.js";import{C as P}from"./ContactShadows-9c4c6fb1.js";function r({position:e,scale:a}){return s.jsx(c,{position:e,scale:a??[1,1,1],meshPath:"/meshes/spot3d.glb"})}function A({asset:e}){return s.jsxs(s.Fragment,{children:[s.jsx(b,{asset:e}),s.jsx(k,{asset:e}),s.jsx(E,{asset:e}),s.jsx(y,{asset:e})]})}function b({asset:e}){return s.jsxs(t,{placement:"bottom",children:[s.jsx(v,{asset:e}),s.jsx(n,{lang:"replace",icon:"/icons/Map.svg"}),s.jsx(n,{lang:"edit",icon:"/icons/Management.svg"})]})}function k({asset:e}){return s.jsxs(t,{placement:"top",children:[s.jsx(n,{lang:"add.marker",icon:"/icons/Map.svg"}),s.jsx(n,{lang:"add.marker",icon:"/icons/Map.svg"})]})}function E({asset:e}){return s.jsx(t,{placement:"left",children:s.jsx(n,{lang:"mesh.layers",icon:"/icons/Map.svg"})})}function y({asset:e}){l(),u();function a(){}return s.jsxs(t,{placement:"right",children:[s.jsx(n,{onClick:a,lang:"add.marker",icon:"/icons/Spot.svg"}),s.jsx(n,{lang:"add.marker",icon:"/icons/Map.svg"})]})}function O({}){const e=M();return e?s.jsx(T,{asset:e}):s.jsx(x.MiddleSpinner,{})}function T({asset:e}){const a=e.data;return s.jsxs("div",{style:{position:"relative"},children:[s.jsxs(h,{shadows:!0,className:"gl-canvas",camera:{far:1e5,near:5e-4},style:{height:"100vh"},children:[s.jsx("ambientLight",{}),s.jsx(d.Suspense,{fallback:"",children:s.jsx(g,{preset:"sunset",ground:{radius:0}})}),s.jsx(P,{position:[0,-.8,0],opacity:.25,scale:10,blur:1.5,far:.8}),s.jsx(f,{makeDefault:!0,target:[0,.15,0],enableDamping:!1,maxPolarAngle:Math.PI/2}),s.jsx("spotLight",{intensity:.5,angle:.1,penumbra:1,position:[10,15,10],castShadow:!0}),s.jsx(_,{area:a}),s.jsx(r,{position:[5,0,0]}),s.jsx(r,{position:[4,0,3]}),s.jsx(r,{position:[6,0,2]})]}),s.jsx(A,{asset:e})]})}function _({area:e}){return s.jsx(j,{onError:s.jsx(S,{area:e}),children:s.jsx(C,{area:e})})}function C({area:e}){const a=e.GetMaximapPath(),i=p(m.ConvertFilePath(a));return s.jsx(o,{scale:[20,20,1],position:[0,-.01,0],rotation:[Math.PI/-2,0,0],children:s.jsx("meshBasicMaterial",{map:i})})}function S({area:e}){return s.jsx(o,{scale:[20,20,1],position:[0,-.01,0],rotation:[Math.PI/-2,0,0],children:s.jsx("meshBasicMaterial",{})})}export{O as default};
